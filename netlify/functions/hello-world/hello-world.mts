import { Context } from "@netlify/functions";

export default (request: Request, context: Context) => {
  try {
    const url = new URL(request.url);
    const subject = url.searchParams.get("name") || "World";

    return new Response(`Hello ${subject}`);
  } catch (error) {
    const message = error instanceof Error ? error.message : String(error);
    return new Response(message, {
      status: 500,
    });
  }
};
